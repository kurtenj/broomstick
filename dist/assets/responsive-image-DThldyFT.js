import{j as s}from"./ui-components-cuZEfocq.js";import{r as a}from"./react-vendor-C6fyXXSt.js";import{c as o}from"./index-73v_QMnt.js";function E({src:e,alt:g,fallbackSrc:n,sizes:f="100vw",className:x,containerClassName:j,loadingClassName:h,priority:t=!1,onLoad:i,onError:c,...w}){const[l,r]=a.useState(!t),[v,m]=a.useState(!1),[d,p]=a.useState(e);a.useEffect(()=>{r(!t),m(!1),p(e)},[e,t]);const u=e.toLowerCase().endsWith(".webp"),y=u?e:e.replace(/\.(jpe?g|png)$/i,".webp"),b=()=>{r(!1),i==null||i()},S=()=>{m(!0),n&&!d.includes(n)&&p(n),c==null||c()};return s.jsxs("div",{className:o("relative overflow-hidden",j),children:[l&&s.jsx("div",{className:o("absolute inset-0 flex items-center justify-center bg-gray-100 animate-pulse",h),children:s.jsx("span",{className:"sr-only",children:"Loading image"})}),s.jsxs("picture",{children:[!v&&!u&&s.jsx("source",{srcSet:y,type:"image/webp"}),s.jsx("img",{src:d,alt:g,loading:t?"eager":"lazy",decoding:t?"sync":"async",onLoad:b,onError:S,className:o("max-w-full h-auto transition-opacity duration-300",l?"opacity-0":"opacity-100",x),sizes:f,...w})]})]})}export{E as R};
