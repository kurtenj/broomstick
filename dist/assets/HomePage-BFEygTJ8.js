import{j as e}from"./ui-components-cuZEfocq.js";import{u as f,r,L as w}from"./react-vendor-C6fyXXSt.js";import{B as p}from"./index-73v_QMnt.js";import{I as y}from"./input-CS8N0LOz.js";import{c as g,a as j}from"./sweepService-Bds68rhb.js";import"./firebase-vendor-DhlEE7UM.js";import"./firebase-cMG96b0X.js";function E(){const i=f(),[o,x]=r.useState(""),[a,l]=r.useState(!1),[n,m]=r.useState(null),[s,d]=r.useState("checking");r.useEffect(()=>{(async()=>{try{const c=await g();d(c?"ready":"error")}catch(c){console.error("Error checking Firestore setup:",c),d("error")}})()},[]);const u=async()=>{try{if(l(!0),m(null),s!=="ready")throw new Error("Firebase is not properly configured. Please check your Firebase setup.");const t=await j(o);i(`/sweep/${t}`)}catch(t){m(t instanceof Error?t.message:"Failed to create sweep"),l(!1)}},h=()=>{i("/sweeps")};return e.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:e.jsxs("div",{className:"max-w-md w-full space-y-8 text-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold",children:"Broomstick"}),e.jsx("p",{className:"mt-3 text-xl",children:"Create temporary feedback documents with screenshots for developers"})]}),e.jsxs("div",{className:"mt-8 space-y-4",children:[e.jsx(y,{placeholder:"Sweep title (optional)",value:o,onChange:t=>x(t.target.value),className:"text-center",disabled:s!=="ready"||a}),e.jsx(p,{onClick:u,disabled:a||s!=="ready",className:"w-full",children:a?"Creating...":"Create New Sweep"}),e.jsx(p,{onClick:h,variant:"outline",className:"w-full",disabled:s!=="ready",children:"View All Sweeps"}),s==="checking"&&e.jsx("div",{className:"text-blue-500 mt-2",children:"Checking Firebase connection..."}),s==="error"&&e.jsx("div",{className:"text-red-500 mt-2",children:"Firebase connection error. Please check your Firebase configuration."}),n&&e.jsx("div",{className:"text-red-500 mt-2",children:n})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Sweeps automatically expire after 3 days"}),e.jsx(w,{to:"/image-examples",className:"text-sm text-blue-500 hover:underline mt-2 inline-block",children:"View Image Optimization Examples"})]})]})})}export{E as HomePage};
